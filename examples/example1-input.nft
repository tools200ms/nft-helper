#!/sbin/nft -f
# /etc/nftables.nft

# very simple configuration

define NIC = "eth0"

flush ruleset

table inet my_table {
    set allowed_hosts {
        type ipv4_addr;
    }

    chain input {
        type filter hook input priority 0; policy drop;

        iifname "lo" accept comment "Accept any localhost traffic"
        iifname $NIC tcp dport 80 ip saddr @allowed_hosts accept
    }
}
